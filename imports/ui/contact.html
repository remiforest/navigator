<template name="ContactDetail">

  <h3>
    {{#if editContact}}
      <input type="text" class="form-control" id="contactName" placeholder="Enter contact name" value="{{name}}">
    {{else}}
    {{name}}
      <a id="edit-contact">
        <small><span class="pull-right glyphicon glyphicon-cog"></span></small>
      </a>
    {{/if}}
  </h3>
  <h5>
    {{#if editContact}}
      <input type="text" class="form-control" id="contactPosition" placeholder="Enter contact position" value="{{position}}">
    {{else}}
      {{position}}
    {{/if}}
    </h5>
  <hr>
  Email :
      {{#if editContact}}
      <input type="text" class="form-control" id="contactEmail" placeholder="Enter contact email" value="{{email}}">
    {{else}}
      {{email}}
    {{/if}}
  <br/>
  Phone :
      {{#if editContact}}
      <input type="text" class="form-control" id="contactPhone" placeholder="Enter contact phone" value="{{phone}}">
    {{else}}
      {{phone}}
    {{/if}}
  <br/>

  {{#if editContact}}
    <button type="button" id="delete-contact" class="btn btn-primary btn-xs btn-danger pull-right" data-toggle="modal" data-target="#deleteContactModal">
        Delete
    </button>
    <button type="button" id="save-contact" class="btn btn-primary btn-xs">
        Save
    </button>
  {{/if}}
  <hr>
  Customer :  <a href="/customer/{{customer}}">{{contact_customer.name}}</a>
  <br/>
  Entity : <a href="/customer/{{customer}}">{{contact_entity.name}}</a>
  <br/>
  Manager : {{#if contact_manager}}<a href="/contact/{{contact_manager._id}}">{{contact_manager.name}}</a>{{else}} Unknown {{/if}}



  <hr>
  <h5>Active projects</h5>
  {{#each contact_projects}}
    <a href="/project/{{_id}}">{{name}}</a> - <a class="remove-contact-from-project">remove</a><br/>
  {{/each}}




    <div class="modal fade" id="deleteContactModal" tabindex="-1" role="dialog">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
          <h4 class="modal-title">
          Delete {{name}} ?
          </h4>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
          <button type="button" class="btn btn-primary" id="confirmDeleteContactBtn">Delete</button>
        </div>
      </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
  </div><!-- /.modal -->


</template> 





<template name="Contact_item">
      <a href="/contact/{{_id}}" class="list-group-item">{{name}} {{#if position}} : {{position}} {{/if}}{{#if is_manager}}(manager){{/if}}</a>
</template>
